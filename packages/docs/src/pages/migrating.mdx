
# Migration Guide

## v4

### What's New

- New `sx` prop for theme-based styles
- Use the `css` prop for unthemed, raw CSS values
- No additional Babel configuration required for the `sx` or `css` props
- The `sx` prop works in MDX documents
- Built-in support for variants
- Fully compatible with [Theme UI][]

[theme ui]: https://theme-ui.com

### Breaking Changes

- The default package now uses Emotion. To use Rebass with Styled Components, import the components from `rebass/styled-components` instead.
- The undocumented theme keys for `Box`, `Flex`, `Text`, `Heading`, `Link`, `Button`, `Image`, and `Card` are no longer supported. Use variants instead.
- The `@rebass/grid` package has been renamed (back to) `reflexbox`

#### Heading

- Default `fontWeight` is now set to `heading`. Add styles to `theme.fontWeights` to customize the `heading` font weight.

#### Button

- No longer supports the following props. Use the `sx` prop instead.
  `border`, `borderColor`, `borderWidth`, `borderStyle`, `borderRadius`, `borderTop`, `borderRight`, `borderBottom`, `borderLeft`, `borderX`, `borderY`

#### Image

- No longer supports the following props. Use the `sx` prop instead.
  `border`, `borderColor`, `borderWidth`, `borderStyle`, `borderRadius`, `borderTop`, `borderRight`, `borderBottom`, `borderLeft`, `borderX`, `borderY`

#### Link

- No longer includes default styles. Add styles to `theme.styles.a` to customize link styles.

#### Card

- No longer supports the following props. Use the `sx` prop instead.
  `border`, `borderColor`, `borderWidth`, `borderStyle`, `borderRadius`, `borderTop`, `borderRight`, `borderBottom`, `borderLeft`, `borderX`, `borderY`, `boxShadow`, `textShadow`, `background`, `backgroundImage`, `backgroundSize`, `backgroundPosition`, `backgroundRepeat`,

---

# What's New

- Built with Theme UI & Emotion
- Rebass Grid is still available as Styled Components package
- New `sx` prop available on Rebass components without JSX pragma
- Each component supports themeable variants
- Support for styling MDX with Theme UI
- (TK) Form elements

## Variants

Variants are available for text, buttons, images, and cards.
Variants are completely customizable via the theme object.

```jsx
// examples
<Button variant='primary'>Primary</Button>
<Button variant='secondary'>Secondary</Button>
<Text variant='caps'>All caps</Text>
<Link variant='nav'>Navigation Link</Link>
<Image variant='avatar' src='avatar.png' />
<Card variant='highlight'>Card</Link>
```

Each component uses the following keys for variant definitions.

Component | Theme Key
---|---
`Text` | `text`
`Heading` | `text`
`Link` | `text`
`Button` | `buttons`
`Image` | `images`
`Card` | `cards`
